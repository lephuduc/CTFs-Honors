def print_chr(x,y,z):
    print(m[x]+m[y]+m[z],end = "")
def brute_old(start,p1,p2,p3,p4,goal):

    mod1,mod2,mod3,mod4 = [0 - start[i]+80 for i in range(4)]
    dis1,dis2,dis3,dis4 = [goal[i] - start[i] for i in range(4)]
    for x in range(27):
        for y in range(27):
            for z in range(27): 
                if (p1[0]*x+p1[1]*y+p1[2]*z)%mod1 == dis1\
                and (p2[0]*x+p2[1]*y+p2[2]*z)%mod2 == dis2\
                and (p3[0]*x+p3[1]*y+p3[2]*z)%mod3 == dis3\
                and (p4[0]*x+p4[1]*y+p4[2]*z)%mod4 == dis4:
                    print_chr(x,y,z)
def brute(start,p1,p2,p3,p4,goal):
    p1[0],p1[1] = p1[0] - start[0], p1[1] - start[0]
    p2[0],p2[1] = p2[0] - start[1], p2[1] - start[1]
    p3[0],p3[1] = p3[0] - start[2], p3[1] - start[2]
    p4[0],p4[1] = p4[0] - start[3], p4[1] - start[3]
    goal = [60 - i for i in goal]
    mod1,mod2,mod3,mod4 = [0 - start[i]+80 for i in range(4)]
    dis1,dis2,dis3,dis4 = [goal[i] - start[i] for i in range(4)]
    for x in range(27):
        for y in range(27):
            for z in range(27): 
                if (p1[0]*x+p1[1]*y+p1[2]*z)%mod1 == dis1\
                and (p2[0]*x+p2[1]*y+p2[2]*z)%mod2 == dis2\
                and (p3[0]*x+p3[1]*y+p3[2]*z)%mod3 == dis3\
                and (p4[0]*x+p4[1]*y+p4[2]*z)%mod4 == dis4:
                    print_chr(x,y,z)
####################-------------------------  test, first brute
start = -300
goal = 0
mod = (goal - start) + 100
import string
m = string.ascii_lowercase + '_'
for x in range(27):
    for y in range(27):
        for z in range(27):
            if (140*x+160*y+20*z)%380 == (0 - (-300))\
            and (60*x +100*y+20*z)%220 == (20 - (-140))\
            and (320*x+80*y+ 20*z)%460 == (380 - 380)\
            and ( 300*x+200*y+20*z)%340 == (-60 - (-260)):
                print_chr(x,y,z)

####################------------------------- 2
start = [-140,-180,-300,-380]
p1,p2,p3,p4 = [
    [60,100,20],
    [20,20,20],
    [140,160,20],
    [320,80,20],
    ]
goal = [40,-20,-180,-80]
brute_old(start,p1,p2,p3,p4,goal)
####################------------------------- 3
start = [-300,-140,-180,-260]
p1,p2,p3,p4 = [
    [140,160,20],
    [60,100,20],
    [20,20,20],
    [300,200,20],
    ]
goal = [-80,-80,-40,-60]
brute_old(start,p1,p2,p3,p4,goal)
####################------------------------- 4
start = [-180,-300,-140,-260]
p1,p2,p3,p4 = [
    [-160,-160,20],
    [-160,-140,20],
    [-80,-40,20],
    [40,-60,20],
    ]
goal = [80,300,200,160]
brute(start,p1,p2,p3,p4,goal)
####################------------------------- 5
start = [-180,-380,-140,-300]
p1,p2,p3,p4 = [
    [-160,-160,20],
    [-60,-300,20],
    [-80,-40,20],
    [-160,-140,20],
    ]
goal = [80,80,180,220]
brute(start,p1,p2,p3,p4,goal)
####################------------------------- 6
start = [-380,-140,-300,-180]
p1,p2,p3,p4 = [
    [-60,-300,20],
    [-80,-40,20],
    [-160,-140,20],
    [-160,-160,20],
    ]
goal = [440,40,80,220]
brute(start,p1,p2,p3,p4,goal)
####################------------------------- 7
start = [-300,-180,-380,-140]
p1,p2,p3,p4 = [
    [-160,-140,20],
    [-160,-160,20],
    [-60,-300,20],
    [-80,-40,20],
    ]
goal = [260,140,120,120]
brute(start,p1,p2,p3,p4,goal)
####################------------------------- 8
start = [-300,-140,-180,-260]
p1,p2,p3,p4 = [
    [-160,-140,20],
    [-80,-40,20],
    [-160,-160,20],
    [40,-60,20],
    ]
goal = [0,200,120,300]
brute(start,p1,p2,p3,p4,goal)
####################------------------------- 9
start = [-300,-260,-180,-380]
p1,p2,p3,p4 = [
    [-160,-140,20],
    [40,-60,20],
    [-160,-160,20],
    [-60,-300,20],
    ]
goal = [0,140,240,120]
brute(start,p1,p2,p3,p4,goal)
####################------------------------- 10
start = [-140,-380,-300,-260]
p1,p2,p3,p4 = [
    [-80,-40,20],
    [-60,-300,20],
    [-160,-140,20],
    [-40,-60,20],
    ]
goal = [20,120,300,120]
brute(start,p1,p2,p3,p4,goal)
####################------------------------- 11
start = [-380,-180,-260,-140]
p1,p2,p3,p4 = [
    [-60,-300,20],
    [-160,-160,20],
    [40,-60,20],
    [-80,-40,20],
    ]
goal = [280,20,320,60]
brute(start,p1,p2,p3,p4,goal)
####################------------------------- 12
start = [-180,-300,-260,-140]
p1,p2,p3,p4 = [
    [-160,-160,20],
    [-160,-140,20],
    [40,-60,20],
    [-80,-40,20],
    ]
goal = [80,120,180,0]
brute(start,p1,p2,p3,p4,goal)
####################------------------------- 13
start = [-260,-180,-300,-140]
p1,p2,p3,p4 = [
    [40,-60,20],
    [-160,-160,20],
    [-160,-140,20],
    [-80,-40,20],
    ]
goal = [300,20,120,80]
brute(start,p1,p2,p3,p4,goal)
print('nce')